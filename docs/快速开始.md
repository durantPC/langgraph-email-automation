# ⚡ 快速开始 - 使用硅基流动API

> 📋 **文档导航**: [返回文档索引](README.md) | [使用文档](使用文档.md) | [详细配置](配置说明.md)

## 🎯 5分钟快速配置

### 第1步：安装依赖（1分钟）

```bash
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

---

### 第2步：配置API密钥（2分钟）

#### 获取硅基流动密钥
1. 访问：https://siliconflow.cn/
2. 注册/登录 → 控制台 → API密钥 → 创建密钥
3. 复制密钥（格式：`sk-xxxxx`）

#### 创建 `.env` 文件
在项目根目录创建 `.env` 文件：

```env
# QQ邮箱配置
MY_EMAIL=你的QQ邮箱@qq.com
QQ_EMAIL_AUTH_CODE=你的QQ邮箱授权码

# 硅基流动API
SILICONFLOW_API_KEY=sk-你的密钥
```

---

### 第3步：创建向量数据库（1分钟）

```bash
# 删除旧数据库（如果存在）
rmdir /s /q db

# 创建新数据库
python scripts/database/create_index.py
```

✅ 看到 "Answer: ..." 说明成功！

---

### 第4步：运行项目（1分钟）

```bash
python main.py
```

✅ 看到 "正在加载新邮件..." 说明成功！

---

## 🔄 切换到其他模型

### 修改LLM模型

编辑 `src/agents.py` 和 `create_index.py`，找到：

```python
model="Qwen/Qwen2-VL-7B-Instruct"
```

改为你想用的模型，例如：

```python
# 使用32B参数模型（你提到的）
model="Qwen/Qwen2-VL-32B-Instruct"

# 或使用72B模型（更强大）
model="Qwen/Qwen2-72B-Instruct"
```

### 硅基流动支持的常见模型

| 模型 | 说明 |
|------|------|
| `Qwen/Qwen2-VL-7B-Instruct` | 7B视觉语言模型（默认，速度快）|
| `Qwen/Qwen2-VL-32B-Instruct` | 32B视觉语言模型（更强）|
| `Qwen/Qwen2-72B-Instruct` | 72B纯文本模型（最强）|
| `Qwen/Qwen2.5-7B-Instruct` | 2.5版本7B模型 |
| `Qwen/Qwen2.5-72B-Instruct` | 2.5版本72B模型 |

**💡 提示：** 模型名称必须严格匹配硅基流动平台上的名称！

---

## 📝 完整的配置文件示例

### `.env` 文件

```env
# QQ邮箱配置
MY_EMAIL=123456789@qq.com
QQ_EMAIL_AUTH_CODE=abcdefghijklmnop

# 硅基流动API配置
SILICONFLOW_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

## ⚠️ 常见错误

### 错误1：`No module named 'langchain_openai'`
```bash
pip install langchain-openai -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 错误2：API调用失败（401）
- 检查 `SILICONFLOW_API_KEY` 是否正确
- 确认密钥前缀是 `sk-`

### 错误3：模型不存在（404）
- 确认模型名称正确
- 访问硅基流动控制台查看可用模型

### 错误4：向量数据库错误
```bash
# 删除并重建
rmdir /s /q db
python create_index.py
```

---

## 🎯 验证是否成功

### 测试1：向量数据库
```bash
python create_index.py
```
应该看到问答输出。

### 测试2：主程序
```bash
python main.py
```
应该看到 "正在加载新邮件..."。

---

## 📚 详细文档

- **详细配置**: 查看 `硅基流动配置指南.md`
- **QQ邮箱配置**: 查看 `配置说明.md`
- **完整文档**: 查看 `README.md`

---

## 🚀 立即开始

```bash
# 一键执行（Windows）
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple && rmdir /s /q db && python create_index.py && python main.py
```

祝你使用愉快！🎉

